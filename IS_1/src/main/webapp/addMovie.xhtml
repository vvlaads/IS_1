<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
<h:head>
    <title>Добавить фильм</title>
    <h:outputStylesheet name="styles.css"/>
    <h:outputStylesheet name="movieForm.css"/>
</h:head>

<h:body>
    <header>
        <span class="student-info">Силинцев Владислав Витальевич</span>
        <span class="student-info">P3314</span>
        <span class="student-info">355273</span>
    </header>

    <h:form>
        <p:menubar>
            <p:menuitem value="Главная" icon="pi pi-home" outcome="index.xhtml?faces-redirect=true" ajax="false"/>
            <p:menuitem value="Добавить фильм" icon="pi pi-video" outcome="addMovie.xhtml?faces-redirect=true"
                        ajax="false"/>
            <p:menuitem value="Добавить человека" icon="pi pi-user" outcome="addPerson.xhtml?faces-redirect=true"
                        ajax="false"/>
            <p:menuitem value="Добавить локацию" icon="pi pi-map-marker" outcome="addLocation.xhtml?faces-redirect=true"
                        ajax="false"/>
            <p:menuitem value="Добавить координаты" icon="pi pi-compass"
                        outcome="addCoordinates.xhtml?faces-redirect=true" ajax="false"/>
        </p:menubar>
    </h:form>

    <div class="form-container">
        <div class="form-box">
            <h2>Добавить фильм</h2>

            <h:form id="addMovieForm">
                <h:panelGrid columns="4" columnClasses="labelCol,fieldCol" cellpadding="8" style="width:100%">
                    <h:outputLabel for="name" value="Название:" style="text-align:right;"/>
                    <p:inputText id="name" value="#{movieBean.movie.name}" required="true"/>

                    <h:outputLabel for="coordinates" value="Координаты:" style="text-align:right;"/>
                    <p:selectOneMenu id="coordinates" value="#{movieBean.selectedCoordinatesId}" required="true">
                        <f:selectItems value="#{coordinatesBean.coordinatesList}" var="c"
                                       itemValue="#{c.id}" itemLabel="ID: #{c.id} (#{c.x}, #{c.y})"/>
                    </p:selectOneMenu>

                    <h:outputLabel/>
                    <p:message for="name" style="color:red"/>

                    <h:outputLabel/>
                    <p:message for="coordinates" style="color:red"/>

                    <h:outputLabel for="oscarsCount" value="Количество Оскаров:" style="text-align:right;"/>
                    <p:inputText id="oscarsCount" value="#{movieBean.movie.oscarsCount}" required="true"/>
                    <h:outputLabel/>
                    <p:message for="oscarsCount" style="color:red"/>

                    <h:outputLabel for="budget" value="Бюджет:" style="text-align:right;"/>
                    <p:inputText id="budget" value="#{movieBean.movie.budget}" required="true"/>
                    <h:outputLabel/>
                    <p:message for="oscarsCount" style="color:red"/>

                    <h:outputLabel for="totalBoxOffice" value="Общие Кассовые сборы:" style="text-align:right;"/>
                    <p:inputText id="totalBoxOffice" value="#{movieBean.movie.totalBoxOffice}" required="true"/>
                    <h:outputLabel/>
                    <p:message for="totalBoxOffice" style="color:red"/>

                    <h:outputLabel for="mpaaRating" value="Рейтинг MPAA:" style="text-align:right;"/>
                    <p:selectOneMenu id="mpaaRating" value="#{movieBean.movie.mpaaRating}" required="true">
                        <f:selectItems value="#{movieBean.mpaaRatingList}" var="mpaa"
                                       itemValue="#{mpaa}" itemLabel="#{mpaa}"/>
                    </p:selectOneMenu>
                    <h:outputLabel/>
                    <p:message for="mpaaRating" style="color:red"/>

                    <h:outputLabel for="director" value="Режиссёр:" style="text-align:right;"/>
                    <p:selectOneMenu id="director" value="#{movieBean.selectedDirectorId}" required="true">
                        <f:selectItems value="#{personBean.personList}" var="person"
                                       itemValue="#{person.id}" itemLabel="ID: #{person.id} #{preson.name}"/>
                    </p:selectOneMenu>
                    <h:outputLabel/>
                    <p:message for="director" style="color:red"/>

                    <h:outputLabel for="screenwriter" value="Сценарист:" style="text-align:right;"/>
                    <p:selectOneMenu id="screenwriter" value="#{movieBean.selectedScreenwriterId}" required="true">
                        <f:selectItems value="#{personBean.personList}" var="person"
                                       itemValue="#{person.id}" itemLabel="ID: #{person.id} #{preson.name}"/>
                    </p:selectOneMenu>
                    <h:outputLabel/>
                    <p:message for="screenwriter" style="color:red"/>

                    <h:outputLabel for="operator" value="Оператор:" style="text-align:right;"/>
                    <p:selectOneMenu id="operator" value="#{movieBean.selectedOperatorId}" required="true">
                        <f:selectItems value="#{personBean.personList}" var="person"
                                       itemValue="#{person.id}" itemLabel="ID: #{person.id} #{preson.name}"/>
                    </p:selectOneMenu>
                    <h:outputLabel/>
                    <p:message for="operator" style="color:red"/>

                    <h:outputLabel for="length" value="Продолжительность:" style="text-align:right;"/>
                    <p:inputText id="length" value="#{movieBean.movie.length}" required="true"/>
                    <h:outputLabel/>
                    <p:message for="length" style="color:red"/>

                    <h:outputLabel for="goldenPalmCount" value="Количество Золотых пальмовых ветвей:"
                                   style="text-align:right;"/>
                    <p:inputText id="goldenPalmCount" value="#{movieBean.movie.goldenPalmCount}" required="true"/>
                    <h:outputLabel/>
                    <p:message for="goldenPalmCount" style="color:red"/>

                    <h:outputLabel for="usaBoxOffice" value="Кассовые сборы в США:"
                                   style="text-align:right;"/>
                    <p:inputText id="usaBoxOffice" value="#{movieBean.movie.usaBoxOffice}" required="true"/>
                    <h:outputLabel/>
                    <p:message for="usaBoxOffice" style="color:red"/>

                    <h:outputLabel for="genre" value="Жанр:" style="text-align:right;"/>
                    <p:selectOneMenu id="genre" value="#{movieBean.movieGenreList}" required="true">
                        <f:selectItems value="#{movieBean.mpaaRatingList}" var="mpaa"
                                       itemValue="#{mpaa}" itemLabel="#{mpaa}"/>
                    </p:selectOneMenu>
                    <h:outputLabel/>
                    <p:message for="genre" style="color:red"/>
                </h:panelGrid>

                <div class="buttons">
                    <p:commandButton value="Сохранить" action="#{personBean.addPerson}" ajax="false"/>
                    <p:commandButton value="Отмена" action="index.xhtml?faces-redirect=true" ajax="false"
                                     immediate="true" style="margin-left:10px;"/>
                </div>
            </h:form>
        </div>
    </div>
</h:body>
</html>
